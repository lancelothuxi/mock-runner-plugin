# 如何在 IntelliJ IDEA 中运行这个插件

由于 Gradle 下载依赖较慢，且需要 Java 17 来编译针对 IDEA 2025 的插件，最简单的方法是直接在 IDEA 中打开项目。

## 方法：在 IDEA 中直接运行（推荐，最快）

### 步骤 1：打开项目
1. 启动 IntelliJ IDEA
2. 选择 `File` → `Open`
3. 选择这个项目目录：`/home/lancelot/untitled`
4. 点击 `OK`

### 步骤 2：等待 IDEA 索引完成
- IDEA 会自动识别这是一个 Gradle 项目
- 等待右下角的索引进度条完成
- IDEA 会自动下载依赖（使用了阿里云镜像，会比较快）

### 步骤 3：运行插件
1. 在右上角找到运行配置下拉菜单
2. 如果没有配置，点击 `Add Configuration...`
3. 点击 `+` → 选择 `Gradle`
4. 在 `Run` 字段输入：`runIde`
5. 点击 `OK`
6. 点击绿色运行按钮 ▶️

### 步骤 4：测试插件
- IDEA 会启动一个新的 IDEA 实例（带有你的插件）
- 在新实例中：
  1. 打开任意项目
  2. 点击 `Run` → `Edit Configurations...`
  3. 点击 `+` 添加新配置
  4. 你应该能看到 "My Custom Runner"
  5. 创建配置并测试运行

## 如果 Gradle 同步失败

### 配置 Gradle JVM
1. `File` → `Settings` → `Build, Execution, Deployment` → `Build Tools` → `Gradle`
2. 在 `Gradle JVM` 下拉菜单中选择 Java 11 或更高版本
3. 点击 `Apply` 和 `OK`
4. 右键点击项目 → `Reload Gradle Project`

### 使用 IDEA 内置的 Gradle
1. 在 Gradle 设置中
2. 选择 `Use Gradle from: 'gradle-wrapper.properties' file`
3. 确保 `Gradle JVM` 设置为 Java 11+

## 打包插件（可选）

如果你想打包成 ZIP 文件安装到其他 IDEA：

1. 在 IDEA 中打开 Gradle 工具窗口（右侧边栏）
2. 展开 `Tasks` → `intellij`
3. 双击 `buildPlugin`
4. 插件 ZIP 文件会生成在 `build/distributions/` 目录

然后在任何 IDEA 中：
1. `File` → `Settings` → `Plugins`
2. 点击齿轮图标 ⚙️ → `Install Plugin from Disk...`
3. 选择生成的 ZIP 文件
4. 重启 IDEA

## 故障排查

**问题：Gradle 同步很慢**
- 已配置阿里云镜像，应该会快很多
- 第一次下载依赖需要一些时间，请耐心等待

**问题：Java 版本错误**
- 确保使用 Java 11 或更高版本
- 在 IDEA 设置中配置正确的 Gradle JVM

**问题：找不到 "My Custom Runner"**
- 确保插件成功运行（新 IDEA 实例启动）
- 检查新实例的插件列表中是否有你的插件

## 快速测试（不打包）

最快的测试方法就是在 IDEA 中运行 `runIde` Gradle 任务，这会：
1. 自动编译代码
2. 打包插件
3. 启动新的 IDEA 实例
4. 自动加载你的插件

全程自动化，无需手动操作！
